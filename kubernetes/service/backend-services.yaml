---
# ClusterIP Service for Command Service (internal pod-to-pod communication)
apiVersion: v1
kind: Service
metadata:
  name: command-service-internal
  namespace: accounting-core
  labels:
    app: springboot-command
    type: backend
spec:
  selector:
    app: springboot-command
  type: ClusterIP
  ports:
    - protocol: TCP
      port: 8080
      targetPort: 8080

---
# ClusterIP Service for Query Service (internal pod-to-pod communication)
apiVersion: v1
kind: Service
metadata:
  name: query-service-internal
  namespace: accounting-core
  labels:
    app: springboot-query
    type: backend
spec:
  selector:
    app: springboot-query
  type: ClusterIP
  ports:
    - protocol: TCP
      port: 8081
      targetPort: 8081
